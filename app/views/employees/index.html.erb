<% content_for :title, "Funcionários" %>

<div class="d-flex my-3 justify-content-between align-items-center">
  <h1 class="mb-0">Funcionários</h1>
  <%= link_to "Adicionar funcionário", new_employee_path, class: "btn btn-dark fw-semibold d-flex" %>
</div>

<div class="border border-light-subtle p-3 rounded-4">
  <table class="table table-striped table-hover mb-0">
    <thead>
      <tr>
        <th>ID</th>
        <th>Nome</th>
        <th>CPF</th>
        <th>Unidade</th>
        <th>Setor</th>
        <th>Usuário</th>
        <th>Ativo</th>
        <th class="text-end" style="transform: translateX(-1rem);">Ação</th>
      </tr>
    </thead>

    <tbody align-middle ">
      <% @employees.each do |employee| %>
        <tr>
          <td style=" width: 100px"><%= employee.id %></td>
          <td><%= employee.name %></td>
          <td><%= employee.cpf %></td>
          <td><%= employee.sector.unit.name %></td>
          <td><%= employee.sector.name %></td>
          <td><%= employee.user&.email || "Usuário não cadastrado" %></td>
          <td>
            <i class="fa <%= employee.active? ? 'fa-check-circle text-success' : 'fa-times-circle text-danger' %>" style="transform: translateX(0.6rem)"></i>
          </td>
          <td class="text-end" style="width: 120px;">
            <%= link_to employee, class: "btn btn-sm btn-light border", role: "button" do %>
              <i class="fa fa-eye"></i>
            <% end %>
            <%= link_to edit_employee_path(employee), class: "btn btn-sm btn-dark border", role: "button" do %>
              <i class="fa fa-edit"></i>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
